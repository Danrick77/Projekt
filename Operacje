import java.util.Scanner;

public class Operations {
	public static void main(String[] args) {
		PersonManager Pm = new PersonManager();
		BookManager Bm = new BookManager();
		System.out.println("Wybierz opcje:");
		System.out.println("[1] Stwórz konto:");
		System.out.println("[2] zaloguj:");
		System.out.println("[3] Wyjdz:");
		Scanner scan = new Scanner (System.in);
		String akcja = scan.nextLine();
		if ("1".equals(akcja)) {
	
			System.out.println("Podaj login");
			String Login = scan.nextLine();
			
			System.out.println("Podaj hasło");
			String Password = scan.nextLine();
			User p1 = new User();
			p1.setLogin(Login);
			p1.setPassword(Password);
			p1.setId(1);
		}
		else if ("2".equals(akcja)); {
			PersonManager.readUsers() ;
			System.out.println("Podaj login");
			String Login = scan.nextLine();
			System.out.println("Podaj hasło");
			String pass = scan.nextLine();
			if (User.containsKey(Login) && User.getLogin(Login).getPassword().equals(pass));
			
			Boolean doLogout = false;
			do {
			System.out.println("[1] lista użytkowników:");
			System.out.println("[2] Usuń użytkownika:");
			System.out.println("[3] Dodaj książkę:");
			System.out.println("[4] Usuń Książkę:");
			System.out.println("[5] Edytuj Książkę:");
			System.out.println("[6] Wyloguj:");
			String action = scan.nextLine();
			if ("1".equals(action)) {
					System.out.println("login: " + User.getLogin());
				break;
			}
			if ("2".equals(action)) {
				System.out.println("Podaj login:");
					if (!oc.removeUser(Login))
						System.out.println("użytkownika nie ma na liście");
					else
						System.out.println("Usunięto użytkownika z listy");
					break;
			}
			if ("3".equals(action)) {
				System.out.println("Podaj tytuł:");
				String NewTitle = scan.nextLine();
				System.out.println("Podaj autora:");
				String NewAuthor = scan.nextLine();
				System.out.println("Podaj gatunek:");
				String NewGenre = scan.nextLine();
				if (scan.hasNextLine()) scan.nextLine();
				Book newBook = BookManager.addBook(NewTitle,NewAuthor,NewGenre);
				BookManager.addBook(newBook);
			}
			if ("4".equals(action)) {
				System.out.println("Podaj książkę do usunięcia:");
				String Bookremove = scan.nextLine();
				if (scan.hasNextLine()) scan.nextLine();
				Book Book = BookManager.removeBook(Bookremove);
				BookManager.removeBook(Book);
				
			}
			if ("6".equals(action)){ 
			doLogout = true;  
			break;
				while (doLogout == false);
				} else {
			System.out.println("Niewłaściwy login lub hasło");
		}
	} while (doLogout == false);
	
	System.out.println("wyjście.");
	scan.close();
		}
	}
}
